archetype (adl_version=2.1.0; rm_release=0.8.5; generated; uid=93e2e7ee-8b3a-4a06-a34c-47a6e4e0f071)
    s2-EHR-Direct_observation.refraction.v0.0.1-alpha

language
    original_language = <[iso_639-1::en]>

description
    original_author = <
        ["name"] = <"S2 Health - Knowledge Engineering">
        ["organisation"] = <"S2 Health <http://www.s2health.org>">
        ["email"] = <"models@s2health.org">
        ["date"] = <"2024-08-09">
    >
    original_namespace = <"org.openehr">
    other_contributors = <"Gustavo M Bacelar-Silva, Brazil", ...>
    custodian_namespace = <"org.s2health">
    custodian_organisation = <"S2 Health <http://s2health.org>">
    copyright = <"Copyright (c) 2024 S2 Health">
    licence = <"Creative Commons CC-BY 4.0 unported <http://creativecommons.org/>">
    lifecycle_state = <"unmanaged">
    ip_acknowledgements = <
        ["original_author"] = <"Ian McNicoll, Ocean Informatics, UK, <ian.mcnicoll@oceaninformatics.com>, 2012-07-18">
        ["openehr"] = <"Content adapted from openEHR archetype openEHR-EHR-OBSERVATION.refraction.v0.0.1-alpha, copyright 2012 openEHR International <http://www.openEHR.org>">
        ["loinc"] = <"Content from LOINC® is copyright © 1995 Regenstrief Institute, Inc. and the LOINC Committee, and available at no cost under the license at <http://loinc.org/terms-of-use>">
        ["snomed"] = <"Content from SNOMED CT® is copyright © 2007 SNOMED International <http://snomed.org>">
        ["rxnorm"] = <"Content from RxNorm is used Courtesy of the U.S. National Library of Medicine <http://www.nlm.nih.gov/>">
    >
    conversion_details = <
        ["source_model"] = <"openEHR archetype openEHR-EHR-OBSERVATION.refraction.v0.0.1-alpha from <https://ckm.openehr.org>">
        ["tool"] = <"s2 convert openehr">
        ["date"] = <"2024-08-09">
    >
    details = <
        ["en"] = <
            language = <[iso_639-1::en]>
            purpose = <"For recording the results of a refraction assessment, either performed on the patient's usual correction or by refraction of the patient.">
            keywords = <"eye", "sight", "vision", "ophthalmic", "visual", "refraction", "refraction", "correction">
            use = <"Use to record the results of measurement of refraction.
            
            The 'Description' data Node can be used to record simple narrative summary or as a means to integrate legacy data.">
            misuse = <"">
        >
    >
    
definition
    Direct_observation[id1] matches {    -- Refraction assessment
        data matches {
            Node[id40] occurrences matches {0..1} matches {    -- Description
                value matches {
                    Text[id149]
                }
            }
            Node[id54] occurrences matches {0..2} matches {    -- Result details
                items matches {
                    Node[id145] occurrences matches {0..1} matches {    -- Test eye
                        value matches {
                            Coded_text[id150] matches {
                                term matches {
                                    Terminology_term[id158] matches {
                                        concept matches {[ac1]}    -- Test eye (synthesised)
                                    }
                                }
                            }
                        }
                    }
                    use_archetype Node[id140, s2-EHR-Node.refraction_details.v0] occurrences matches {0..1}     -- Refraction details
                    Node[id56] occurrences matches {0..1} matches {    -- No test result
                        value matches {
                            Boolean_value[id151] matches {
                                value matches {True}
                            }
                        }
                    }
                    Node[id148] occurrences matches {0..1} matches {    -- Reason for no test result
                        value matches {
                            Text[id152]
                        }
                    }
                    Node[id67] matches {    -- Interpretation
                        value matches {
                            Text[id153]
                        }
                    }
                }
            }
            Node[id55] matches {    -- Overall interpretation
                value matches {
                    Text[id154]
                }
            }
            Node[id41] occurrences matches {0..1} matches {    -- Comment
                value matches {
                    Text[id155]
                }
            }
            use_archetype Node[id141, s2-EHR-Node.exclusion_exam.v1]    -- Examination not done
        }
        state matches {
            Node[id113] matches {    -- Confounding Factors
                value matches {
                    Text[id156]
                }
            }
            Node[id43] matches {    -- Refractive Correction
                value matches {
                    Coded_text[id157] matches {
                        term matches {
                            Terminology_term[id159] matches {
                                concept matches {[ac2]}    -- Refractive Correction (synthesised)
                            }
                        }
                    }
                }
            }
        }
        qualifiers matches {
            use_archetype Node[id26, s2-EHR-Node.device.v1] occurrences matches {0..1}     -- Device Details
            allow_archetype Node[id142] matches {     -- Extension
                include
                    archetype_id/value matches {/.*/}
            }
        }
    }

terminology
    term_bindings = <
        ["snomed"] = <
            ["id1"] = <http://snomed.info/id/252886007>
            ["id40"] = <http://snomed.info/id/117364006>
            ["id41"] = <http://snomed.info/id/117364006>
            ["id55"] = <http://snomed.info/id/366060000>
            ["id67"] = <http://snomed.info/id/366060000>
            ["at71"] = <http://snomed.info/id/50121007>
            ["at72"] = <http://snomed.info/id/57368009>
            ["at75"] = <http://snomed.info/id/397524001>
        >
    >
    value_sets = <
        ["ac2"] = <
            id = <"ac2">
            members = <"at71", "at72", "at73", "at74", "at75">
        >
        ["ac1"] = <
            id = <"ac1">
            members = <"at145", "at146">
        >
    >
    term_definitions = <
        ["en"] = <
            ["ac1"] = <
                text = <"Test eye (synthesised)">
                description = <"Identification of the eye which is being tested. (synthesised)">
            >
            ["ac2"] = <
                text = <"Refractive Correction (synthesised)">
                description = <"The specific type(s) of refractive correction applied. (synthesised)">
            >
            ["at145"] = <
                text = <"Right eye">
                description = <"Assessment of the right eye was performed.">
            >
            ["at146"] = <
                text = <"Left eye">
                description = <"Assessment of the left eye was performed.">
            >
            ["at71"] = <
                text = <"Spectacles">
                description = <"The subject's vision was corrected by spectacles.">
            >
            ["at72"] = <
                text = <"Contact lenses">
                description = <"The subject's vision was corrected by contact lenses.">
            >
            ["at73"] = <
                text = <"Pinhole">
                description = <"The subject's vision was corrected by use of a pinhole.">
            >
            ["at74"] = <
                text = <"Autorefraction">
                description = <"The subject's vision was corrected by autorefraction.">
            >
            ["at75"] = <
                text = <"Retinoscopy">
                description = <"The subject's vision was corrected by retinoscopy.">
            >
            ["id1"] = <
                text = <"Refraction assessment">
                description = <"Assessment of the refraction required to achieve optimal visual acuity.">
            >
            ["id113"] = <
                text = <"Confounding Factors">
                description = <"Patient circumstances which affect interpretation of the result. Often termed 'reliability' in opthalmological documentation.">
            >
            ["id135"] = <
                text = <"Any event">
                description = <"Default, unspecified point in time or interval event which may be explicitly defined in a template or at run-time.">
            >
            ["id140"] = <
                text = <"Refraction details">
                description = <"Details of refraction for a single eye.">
            >
            ["id141"] = <
                text = <"Examination not done">
                description = <"Details to explicitly record that this test was not performed.">
            >
            ["id142"] = <
                text = <"Extension">
                description = <"Additional information required to capture local content or to align with other reference models/formalisms.">
            >
            ["id145"] = <
                text = <"Test eye">
                description = <"Identification of the eye which is being tested.">
            >
            ["id148"] = <
                text = <"Reason for no test result">
                description = <"Reason why no refraction result is available for the test eye.">
            >
            ["id26"] = <
                text = <"Device Details">
                description = <"Details of the device used to measure refraction.">
            >
            ["id40"] = <
                text = <"Description">
                description = <"An overall narrative description of the visual acuity test result.">
            >
            ["id41"] = <
                text = <"Comment">
                description = <"Any additional narrative comment about the visual acuity test.">
            >
            ["id43"] = <
                text = <"Refractive Correction">
                description = <"The specific type(s) of refractive correction applied.">
            >
            ["id54"] = <
                text = <"Result details">
                description = <"Details of the refraction result for each eye.">
            >
            ["id55"] = <
                text = <"Overall interpretation">
                description = <"A term, commonly coded, expressing an overall interpretation of the visual acuity test.">
            >
            ["id56"] = <
                text = <"No test result">
                description = <"No refraction test result is available for the test eye.">
            >
            ["id67"] = <
                text = <"Interpretation">
                description = <"The test result expressed as a qualitative term, normally coded.">
            >
        >
    >
    